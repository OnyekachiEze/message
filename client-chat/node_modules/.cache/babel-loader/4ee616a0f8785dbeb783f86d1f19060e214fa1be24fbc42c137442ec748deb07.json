{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\message\\\\client-chat\\\\src\\\\components\\\\GroupChat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { ArrowLeft, Mic, Send, X } from 'lucide-react';\nimport EmojiPicker from 'emoji-picker-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst GroupChat = ({\n  group,\n  messages,\n  onSendMessage,\n  onSendFile,\n  onSendAudio,\n  onBack\n}) => {\n  _s();\n  const [inputValue, setInputValue] = useState('');\n  const [showEmojiPicker, setShowEmojiPicker] = useState(false);\n\n  // Audio recording states\n  const [isRecording, setIsRecording] = useState(false);\n  const [audioURL, setAudioURL] = useState(null);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const messagesEndRef = useRef(null);\n\n  // Scroll to bottom on new messages\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n\n  // Send text message\n  const handleSendText = () => {\n    if (inputValue.trim()) {\n      onSendMessage(inputValue.trim());\n      setInputValue('');\n      setShowEmojiPicker(false);\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendText();\n    }\n  };\n\n  // Emoji picker handler\n  const onEmojiClick = emojiData => {\n    setInputValue(prev => prev + emojiData.emoji);\n  };\n\n  // File input handler\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (file) {\n      onSendFile(file);\n    }\n    e.target.value = ''; // reset input\n  };\n\n  // Audio recording logic\n  const startRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      mediaRecorderRef.current = new MediaRecorder(stream);\n      audioChunksRef.current = [];\n      mediaRecorderRef.current.ondataavailable = event => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n      mediaRecorderRef.current.onstop = () => {\n        const blob = new Blob(audioChunksRef.current, {\n          type: 'audio/webm'\n        });\n        const url = URL.createObjectURL(blob);\n        setAudioURL(url);\n      };\n      mediaRecorderRef.current.start();\n      setIsRecording(true);\n      setAudioURL(null);\n    } catch (err) {\n      console.error('Microphone permission denied:', err);\n      alert('Please allow microphone access to record audio.');\n    }\n  };\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && mediaRecorderRef.current.state !== 'inactive') {\n      mediaRecorderRef.current.stop();\n      mediaRecorderRef.current.stream.getTracks().forEach(track => track.stop());\n      setIsRecording(false);\n    }\n  };\n  const sendRecording = () => {\n    if (!audioURL) return;\n    fetch(audioURL).then(res => res.blob()).then(blob => {\n      onSendAudio(blob);\n      setAudioURL(null);\n    });\n  };\n  const cancelRecording = () => {\n    if (mediaRecorderRef.current && mediaRecorderRef.current.state !== 'inactive') {\n      mediaRecorderRef.current.stop();\n      mediaRecorderRef.current.stream.getTracks().forEach(track => track.stop());\n    }\n    setAudioURL(null);\n    setIsRecording(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col h-full bg-white rounded-tl-3xl shadow-lg overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center px-4 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onBack,\n        className: \"mr-4 p-2 hover:bg-purple-700 rounded-full\",\n        children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-bold\",\n          children: group.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm\",\n          children: [group.members.length, \" members\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-100\",\n      children: [messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `max-w-xs px-4 py-2 rounded-lg shadow break-words ${msg.from === 'me' ? 'bg-blue-500 text-white self-end ml-auto' : 'bg-gray-300 text-black self-start mr-auto'}`,\n        children: [msg.type === 'text' && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm\",\n          children: msg.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 37\n        }, this), msg.type === 'file' && /*#__PURE__*/_jsxDEV(\"a\", {\n          href: URL.createObjectURL(msg.file),\n          download: msg.file.name,\n          className: \"text-sm underline\",\n          target: \"_blank\",\n          rel: \"noreferrer\",\n          children: [\"\\uD83D\\uDCCE \", msg.file.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 15\n        }, this), msg.type === 'image' && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: URL.createObjectURL(msg.file),\n          alt: \"Sent\",\n          className: \"max-w-full rounded-lg cursor-pointer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 15\n        }, this), msg.type === 'audio' && /*#__PURE__*/_jsxDEV(\"audio\", {\n          controls: true,\n          src: URL.createObjectURL(msg.file),\n          className: \"w-48\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"block text-[10px] mt-1 text-right opacity-70\",\n          children: new Date(msg.timestamp).toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-3 border-t bg-white flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowEmojiPicker(v => !v),\n          className: \"mr-2 p-2 hover:bg-gray-200 rounded-full\",\n          title: \"Emoji Picker\",\n          children: \"\\uD83D\\uDE0A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"fileInput\",\n          style: {\n            display: 'none'\n          },\n          onChange: handleFileChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"fileInput\",\n          className: \"cursor-pointer mr-2 p-2 hover:bg-gray-200 rounded-full\",\n          title: \"Attach File\",\n          children: \"\\uD83D\\uDCCE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), !isRecording && !audioURL && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: startRecording,\n          className: \"p-2 hover:bg-gray-200 rounded-full\",\n          title: \"Record Audio\",\n          children: /*#__PURE__*/_jsxDEV(Mic, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this), audioURL && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: sendRecording,\n            className: \"ml-auto mr-2 p-2 bg-green-500 text-white rounded-full hover:bg-green-600\",\n            title: \"Send Recording\",\n            children: /*#__PURE__*/_jsxDEV(Send, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: cancelRecording,\n            className: \"p-2 bg-red-500 text-white rounded-full hover:bg-red-600\",\n            title: \"Cancel Recording\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), isRecording && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: stopRecording,\n          className: \"ml-auto p-2 bg-red-500 text-white rounded-full hover:bg-red-600\",\n          title: \"Stop Recording\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), showEmojiPicker && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2\",\n        children: /*#__PURE__*/_jsxDEV(EmojiPicker, {\n          onEmojiClick: onEmojiClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }, this), !audioURL && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: 1,\n          value: inputValue,\n          onChange: e => setInputValue(e.target.value),\n          onKeyDown: handleKeyDown,\n          placeholder: \"Type a message...\",\n          className: \"flex-1 resize-none border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSendText,\n          disabled: !inputValue.trim(),\n          className: `ml-2 p-2 rounded-full ${inputValue.trim() ? 'bg-purple-600 text-white hover:bg-purple-700' : 'bg-gray-300 cursor-not-allowed'}`,\n          title: \"Send Message\",\n          children: /*#__PURE__*/_jsxDEV(Send, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n};\n_s(GroupChat, \"fUsyftk9SLN8kGTUkmAM5bBe/js=\");\n_c = GroupChat;\nexport default GroupChat;\nvar _c;\n$RefreshReg$(_c, \"GroupChat\");","map":{"version":3,"names":["React","useState","useRef","useEffect","ArrowLeft","Mic","Send","X","EmojiPicker","jsxDEV","_jsxDEV","Fragment","_Fragment","GroupChat","group","messages","onSendMessage","onSendFile","onSendAudio","onBack","_s","inputValue","setInputValue","showEmojiPicker","setShowEmojiPicker","isRecording","setIsRecording","audioURL","setAudioURL","mediaRecorderRef","audioChunksRef","messagesEndRef","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendText","trim","handleKeyDown","e","key","shiftKey","preventDefault","onEmojiClick","emojiData","prev","emoji","handleFileChange","file","target","files","value","startRecording","stream","navigator","mediaDevices","getUserMedia","audio","MediaRecorder","ondataavailable","event","data","size","push","onstop","blob","Blob","type","url","URL","createObjectURL","start","err","console","error","alert","stopRecording","state","stop","getTracks","forEach","track","sendRecording","fetch","then","res","cancelRecording","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","name","members","length","map","msg","idx","from","text","href","download","rel","src","alt","controls","Date","timestamp","toLocaleTimeString","hour","minute","ref","v","title","id","style","display","onChange","htmlFor","rows","onKeyDown","placeholder","disabled","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Desktop/message/client-chat/src/components/GroupChat.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { ArrowLeft, Mic, Send, X } from 'lucide-react';\r\nimport EmojiPicker from 'emoji-picker-react';\r\n\r\nconst GroupChat = ({ group, messages, onSendMessage, onSendFile, onSendAudio, onBack }) => {\r\n  const [inputValue, setInputValue] = useState('');\r\n  const [showEmojiPicker, setShowEmojiPicker] = useState(false);\r\n\r\n  // Audio recording states\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [audioURL, setAudioURL] = useState(null);\r\n  const mediaRecorderRef = useRef(null);\r\n  const audioChunksRef = useRef([]);\r\n\r\n  const messagesEndRef = useRef(null);\r\n\r\n  // Scroll to bottom on new messages\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  // Send text message\r\n  const handleSendText = () => {\r\n    if (inputValue.trim()) {\r\n      onSendMessage(inputValue.trim());\r\n      setInputValue('');\r\n      setShowEmojiPicker(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSendText();\r\n    }\r\n  };\r\n\r\n  // Emoji picker handler\r\n  const onEmojiClick = (emojiData) => {\r\n    setInputValue((prev) => prev + emojiData.emoji);\r\n  };\r\n\r\n  // File input handler\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      onSendFile(file);\r\n    }\r\n    e.target.value = ''; // reset input\r\n  };\r\n\r\n  // Audio recording logic\r\n  const startRecording = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      mediaRecorderRef.current = new MediaRecorder(stream);\r\n      audioChunksRef.current = [];\r\n\r\n      mediaRecorderRef.current.ondataavailable = (event) => {\r\n        if (event.data.size > 0) {\r\n          audioChunksRef.current.push(event.data);\r\n        }\r\n      };\r\n\r\n      mediaRecorderRef.current.onstop = () => {\r\n        const blob = new Blob(audioChunksRef.current, { type: 'audio/webm' });\r\n        const url = URL.createObjectURL(blob);\r\n        setAudioURL(url);\r\n      };\r\n\r\n      mediaRecorderRef.current.start();\r\n      setIsRecording(true);\r\n      setAudioURL(null);\r\n    } catch (err) {\r\n      console.error('Microphone permission denied:', err);\r\n      alert('Please allow microphone access to record audio.');\r\n    }\r\n  };\r\n\r\n  const stopRecording = () => {\r\n    if (mediaRecorderRef.current && mediaRecorderRef.current.state !== 'inactive') {\r\n      mediaRecorderRef.current.stop();\r\n      mediaRecorderRef.current.stream.getTracks().forEach((track) => track.stop());\r\n      setIsRecording(false);\r\n    }\r\n  };\r\n\r\n  const sendRecording = () => {\r\n    if (!audioURL) return;\r\n\r\n    fetch(audioURL)\r\n      .then((res) => res.blob())\r\n      .then((blob) => {\r\n        onSendAudio(blob);\r\n        setAudioURL(null);\r\n      });\r\n  };\r\n\r\n  const cancelRecording = () => {\r\n    if (mediaRecorderRef.current && mediaRecorderRef.current.state !== 'inactive') {\r\n      mediaRecorderRef.current.stop();\r\n      mediaRecorderRef.current.stream.getTracks().forEach((track) => track.stop());\r\n    }\r\n    setAudioURL(null);\r\n    setIsRecording(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full bg-white rounded-tl-3xl shadow-lg overflow-hidden\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center px-4 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow\">\r\n        <button onClick={onBack} className=\"mr-4 p-2 hover:bg-purple-700 rounded-full\">\r\n          <ArrowLeft size={20} />\r\n        </button>\r\n        <div>\r\n          <h2 className=\"text-lg font-bold\">{group.name}</h2>\r\n          <p className=\"text-sm\">{group.members.length} members</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Messages */}\r\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-100\">\r\n        {messages.map((msg, idx) => (\r\n          <div\r\n            key={idx}\r\n            className={`max-w-xs px-4 py-2 rounded-lg shadow break-words ${\r\n              msg.from === 'me'\r\n                ? 'bg-blue-500 text-white self-end ml-auto'\r\n                : 'bg-gray-300 text-black self-start mr-auto'\r\n            }`}\r\n          >\r\n            {msg.type === 'text' && <p className=\"text-sm\">{msg.text}</p>}\r\n\r\n            {msg.type === 'file' && (\r\n              <a\r\n                href={URL.createObjectURL(msg.file)}\r\n                download={msg.file.name}\r\n                className=\"text-sm underline\"\r\n                target=\"_blank\"\r\n                rel=\"noreferrer\"\r\n              >\r\n                ðŸ“Ž {msg.file.name}\r\n              </a>\r\n            )}\r\n\r\n            {msg.type === 'image' && (\r\n              <img\r\n                src={URL.createObjectURL(msg.file)}\r\n                alt=\"Sent\"\r\n                className=\"max-w-full rounded-lg cursor-pointer\"\r\n              />\r\n            )}\r\n\r\n            {msg.type === 'audio' && (\r\n              <audio controls src={URL.createObjectURL(msg.file)} className=\"w-48\" />\r\n            )}\r\n\r\n            <span className=\"block text-[10px] mt-1 text-right opacity-70\">\r\n              {new Date(msg.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n            </span>\r\n          </div>\r\n        ))}\r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n\r\n      {/* Input Area */}\r\n      <div className=\"p-3 border-t bg-white flex flex-col\">\r\n        {/* Emoji picker toggle and controls */}\r\n        <div className=\"flex items-center mb-2\">\r\n          <button\r\n            onClick={() => setShowEmojiPicker((v) => !v)}\r\n            className=\"mr-2 p-2 hover:bg-gray-200 rounded-full\"\r\n            title=\"Emoji Picker\"\r\n          >\r\n            ðŸ˜Š\r\n          </button>\r\n\r\n          {/* File upload */}\r\n          <input\r\n            type=\"file\"\r\n            id=\"fileInput\"\r\n            style={{ display: 'none' }}\r\n            onChange={handleFileChange}\r\n          />\r\n          <label htmlFor=\"fileInput\" className=\"cursor-pointer mr-2 p-2 hover:bg-gray-200 rounded-full\" title=\"Attach File\">\r\n            ðŸ“Ž\r\n          </label>\r\n\r\n          {/* Mic button */}\r\n          {!isRecording && !audioURL && (\r\n            <button\r\n              onClick={startRecording}\r\n              className=\"p-2 hover:bg-gray-200 rounded-full\"\r\n              title=\"Record Audio\"\r\n            >\r\n              <Mic size={20} />\r\n            </button>\r\n          )}\r\n\r\n          {/* Send or Cancel when recording finished */}\r\n          {audioURL && (\r\n            <>\r\n              <button\r\n                onClick={sendRecording}\r\n                className=\"ml-auto mr-2 p-2 bg-green-500 text-white rounded-full hover:bg-green-600\"\r\n                title=\"Send Recording\"\r\n              >\r\n                <Send size={20} />\r\n              </button>\r\n              <button\r\n                onClick={cancelRecording}\r\n                className=\"p-2 bg-red-500 text-white rounded-full hover:bg-red-600\"\r\n                title=\"Cancel Recording\"\r\n              >\r\n                <X size={20} />\r\n              </button>\r\n            </>\r\n          )}\r\n\r\n          {/* Stop recording button while recording */}\r\n          {isRecording && (\r\n            <button\r\n              onClick={stopRecording}\r\n              className=\"ml-auto p-2 bg-red-500 text-white rounded-full hover:bg-red-600\"\r\n              title=\"Stop Recording\"\r\n            >\r\n              <X size={20} />\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {/* Emoji Picker */}\r\n        {showEmojiPicker && (\r\n          <div className=\"mb-2\">\r\n            <EmojiPicker onEmojiClick={onEmojiClick} />\r\n          </div>\r\n        )}\r\n\r\n        {/* Text input & send */}\r\n        {!audioURL && (\r\n          <div className=\"flex\">\r\n            <textarea\r\n              rows={1}\r\n              value={inputValue}\r\n              onChange={(e) => setInputValue(e.target.value)}\r\n              onKeyDown={handleKeyDown}\r\n              placeholder=\"Type a message...\"\r\n              className=\"flex-1 resize-none border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-600\"\r\n            />\r\n            <button\r\n              onClick={handleSendText}\r\n              disabled={!inputValue.trim()}\r\n              className={`ml-2 p-2 rounded-full ${\r\n                inputValue.trim() ? 'bg-purple-600 text-white hover:bg-purple-700' : 'bg-gray-300 cursor-not-allowed'\r\n              }`}\r\n              title=\"Send Message\"\r\n            >\r\n              <Send size={20} />\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GroupChat;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}